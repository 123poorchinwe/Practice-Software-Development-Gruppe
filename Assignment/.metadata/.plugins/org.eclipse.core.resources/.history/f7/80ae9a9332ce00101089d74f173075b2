public class IDW {
	public static double calculate(double[][] data, int r, int c) {
		double above = 0;
		double below = 0;
		double weight=0;
		int cnt=0;
		for (int i = 0; i < data.length; i++) {
			for (int j = 0; j < data[0].length; j++) {
				double z = data[i][j];
				if (!Double.isNaN(z)) {
					if(i==r&&j==c)
						continue;
					       cnt++;
					double dis = distance.dis(r, c, i, j);
					if (dis == 0) 
						continue;                    
		            weight = 1.0 / (dis * dis);
		            above += weight * z;
		            below += weight;
				}
			}
		}
		System.out.printf("r=%d c=%d  neighbors=%d%n", r, c, cnt);
		if (below == 0) {
			return Double.NaN;
		} else {
			return above / below;
		}
	}
}